id2label_payer_classifier_longformer: &id2label_payer_classifier_longformer
  0: '0'
  1: '100500'
  2: '101532'
  3: '103442'
  4: '105647'
  5: '110297'
  6: '112292'
  7: '112298'
  8: '112670'
  9: '113738'
  10: '117501'
  11: '117793'
  12: '121096'
  13: '121130'
  14: '125736'
  15: '134390'
  16: '134590'
  17: '138048'
  18: '140194'
  19: '147330'
  20: '148510'
  21: '159959'
  22: '160522'
  23: '161824'
  24: '163081'
  25: '166343'
  26: '166718'
  27: '177444'
  28: '178022'
  29: '178743'
  30: '184701'
  31: '186796'
  32: '186813'
  33: '191848'
  34: '192670'
  35: '192836'
  36: '195757'
  37: '204946'
  38: '207245'
  39: '207395'
  40: '219294'
  41: '220672'
  42: '220690'
  43: '221412'
  44: '227662'
  45: '228194'
  46: '228950'
  47: '230567'
  48: '234665'
  49: '238570'
  50: '238926'
  51: '239278'
  52: '239352'
  53: '239383'
  54: '243339'
  55: '244799'
  56: '245258'
  57: '246468'
  58: '43309'
  59: '43330'
  60: '43369'
  61: '43453'
  62: '43454'
  63: '43455'
  64: '43477'
  65: '43488'
  66: '43495'
  67: '43516'
  68: '43549'
  69: '43650'
  70: '43663'
  71: '44010'
  72: '44023'
  73: '44028'
  74: '44034'
  75: '44035'
  76: '44037'
  77: '44039'
  78: '44041'
  79: '44060'
  80: '44064'
  81: '44072'
  82: '44084'
  83: '44095'
  84: '44099'
  85: '44106'
  86: '44115'
  87: '44116'
  88: '44118'
  89: '44135'
  90: '44147'
  91: '44149'
  92: '44584'
  93: '44956'
  94: '44988'
  95: '45026'
  96: '45045'
  97: '48471'
  98: '51087'
  99: '51144'
  100: '51206'
  101: '51208'
  102: '51209'
  103: '51218'
  104: '51237'
  105: '51281'
  106: '51287'
  107: '51290'
  108: '51306'
  109: '51373'
  110: '51461'
  111: '51466'
  112: '51486'
  113: '51490'
  114: '51491'
  115: '51492'
  116: '51811'
  117: '51908'
  118: '51909'
  119: '51915'
  120: '51928'
  121: '51929'
  122: '51960'
  123: '51964'
  124: '51970'
  125: '51976'
  126: '52016'
  127: '52268'
  128: '52281'
  129: '52290'
  130: '52302'
  131: '52325'
  132: '52344'
  133: '52345'
  134: '52354'
  135: '52355'
  136: '52414'
  137: '52541'
  138: '52578'
  139: '52676'
  140: '52894'
  141: '53073'
  142: '53319'
  143: '53479'
  144: '53490'
  145: '53492'
  146: '53525'
  147: '53550'
  148: '53577'
  149: '53597'
  150: '53612'
  151: '53880'
  152: '54172'
  153: '54616'
  154: '55093'
  155: '56613'
  156: '56626'
  157: '56659'
  158: '56682'
  159: '56692'
  160: '56698'
  161: '56699'
  162: '56709'
  163: '56712'
  164: '56719'
  165: '56731'
  166: '57876'
  167: '57887'
  168: '58609'
  169: '58629'
  170: '58662'
  171: '58855'
  172: '59920'
  173: '60024'
  174: '62465'
  175: '63481'
  176: '64381'
  177: '64959'
  178: '65004'
  179: '67006'
  180: '67526'
  181: '67867'
  182: '68307'
  183: '68445'
  184: '68470'
  185: '69381'
  186: '70198'
  187: '73371'
  188: '74042'
  189: '74199'
  190: '74236'
  191: '83930'
  192: '84268'
  193: '84283'
  194: '85794'
  195: '85821'
  196: '85828'
  197: '85847'
  198: '85969'
  199: '85970'
  200: '86376'
  201: '86420'
  202: '86421'
  203: '86464'
  204: '86592'
  205: '87032'
  206: '88594'
  207: '88637'
  208: '88682'
  209: '88689'
  210: '88731'
  211: '88744'
  212: '88790'
  213: '88807'
  214: '88843'
  215: '88858'
  216: '88861'
  217: '88865'
  218: '88868'
  219: '88892'
  220: '88900'
  221: '88913'
  222: '88914'
  223: '88951'
  224: '88957'
  225: '89012'
  226: '89040'
  227: '89767'
  228: '89813'
  229: '89892'
  230: '89992'
  231: '89997'
  232: '90004'
  233: '90005'
  234: '90235'
  235: '90613'
  236: '91032'
  237: '91041'
  238: '91111'
  239: '91198'
  240: '91303'
  241: '91304'
  242: '91388'
  243: '91849'
  244: '92205'
  245: '92562'
  246: '92817'
  247: '92952'
  248: '92971'
  249: '93052'
  250: '93092'
  251: '93211'
  252: '93298'
  253: '93396'
  254: '93424'
  255: '93492'
  256: '93519'
  257: '93563'
  258: '93575'
  259: '93619'
  260: '93667'
  261: '93925'
  262: '93968'
  263: '93990'
  264: '94012'
  265: '94025'
  266: '94035'
  267: '94115'
  268: '94181'
  269: '94230'
  270: '94241'
  271: '94454'
  272: '94537'
  273: '94616'
  274: '94640'
  275: '94653'
  276: '94692'
  277: '94729'
  278: '94764'
  279: '94779'
  280: '94802'
  281: '94814'
  282: '94817'
  283: '94867'
  284: '95045'
  285: '95128'
  286: '95346'
  287: '95366'
  288: '95401'
  289: '95522'
  290: '95566'
  291: '95567'
  292: '95593'
  293: '95615'
  294: '95625'
  295: '95705'
  296: '95762'
  297: '95814'
  298: '95820'
  299: '95826'
  300: '95842'
  301: '95917'
  302: '95936'
  303: '95994'
  304: '96002'
  305: '96026'
  306: '96072'
  307: '96096'
  308: '96118'
  309: '96126'
  310: '96128'
  311: '96136'
  312: '96147'
  313: '96149'
  314: '96314'
  315: '96352'
  316: '96357'
  317: '96375'
  318: '96406'
  319: '96426'
  320: '96589'
  321: '96977'
  322: '97184'
  323: '97220'
  324: '97228'
  325: '97236'
  326: '97238'
  327: '97244'
  328: '97258'
  329: '97266'
  330: '97298'
  331: '97318'
  332: '97368'
  333: '97416'
  334: '97420'
  335: '97428'
  336: '97431'
  337: '97435'
  338: '97634'
  339: '97780'
  340: '97817'
  341: '97823'
  342: '97912'
  343: '97962'
  344: '97996'
  345: '97997'
  346: '98027'
  347: '98066'
  348: '98107'
  349: '98109'
  350: '98219'
  351: '98247'
  352: '98413'
  353: '98434'
  354: '98532'
  355: '98569'
  356: '98678'
  357: '98742'
  358: '98848'
  359: '98859'
  360: '98882'
  361: '98906'
  362: '98911'
  363: '98935'
  364: '98975'
  365: '98998'
  366: '99145'
  367: '99185'
  368: '99202'
  369: '99204'
  370: '99217'
  371: '99238'
  372: '99268'


pipelines:
  - pipeline:
      name: 'default'
      default: true
      device: 'cuda'

      page_classifier:
        - model_name_or_path: 'rms/corr-payer-longformer-classifier'
          task: 'text-classification'
          name: 'corr_payer_longformer'
          type: 'transformers'
          enabled: True
          batch_size: 1 # batch size > 1 causes errors due to wrong batch aggregation
          device: 'cuda'
          group: 'corr-payer-classifier'

          id2label:
            <<: *id2label_payer_classifier_longformer

        # label2id are provided by the model itself in the config.json
        - model_name_or_path: 'rms/corr-payer-layoutlmv3-classifier'
          task: 'text-classification-multimodal' # multimodal task for layoutlmv3
          name: 'corr_payer_layoutlmv3'
          type: 'transformers'
          enabled: True
          batch_size: 1 # batch size > 1 causes errors due to wrong batch aggregation
          device: 'cuda'
          group: 'corr-payer-classifier'

      page_indexer:
#        - model_name_or_path: 'rms/layoutlmv3-large-patpay-ner'
        - model_name_or_path: 'rms/layoutlmv3-large-corr-ner'
          enabled: true
          type: 'transformers'
          device: 'cuda'
          name: 'page_indexer_corr'
          group: 'corr-payer-classifier'
          filter:
            type: 'regex'
            pattern: '.*'
